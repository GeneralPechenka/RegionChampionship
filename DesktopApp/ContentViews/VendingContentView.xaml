<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:material="http://schemas.enisn-projects.io/dotnet/maui/uraniumui/material"
             xmlns:fa="clr-namespace:UraniumUI.Icons.FontAwesome;assembly=UraniumUI.Icons.FontAwesome"
             x:Class="DesktopApp.ContentViews.VendingContentView">

    <!-- –ò—Å–ø–æ–ª—å–∑—É–µ–º Grid –∫–∞–∫ –∫–æ—Ä–µ–Ω—å, –Ω–æ –±–µ–∑ RowDefinitions –≤ —Å–∞–º–æ–º Grid -->
    <Grid>

        <!-- –ö–û–ù–¢–ï–ù–¢ –° –ü–†–û–ö–†–£–¢–ö–û–ô (–∑–∞–Ω–∏–º–∞–µ—Ç –≤—Å—ë –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ) -->
        <ScrollView>
            <VerticalStackLayout Spacing="0">

                <!-- –ó–ê–ì–û–õ–û–í–û–ö -->
                <Grid HeightRequest="60"
                      BackgroundColor="#F6F6F6"
                      Padding="20,0,20,0">
                    <VerticalStackLayout Spacing="5" HorizontalOptions="Start">
                        <Label Text="–¢–æ—Ä–≥–æ–≤—ã–µ –∞–≤—Ç–æ–º–∞—Ç—ã"
                               FontSize="22"
                               FontAttributes="Bold"
                               TextColor="#0087CC"
                               VerticalOptions="Center" />

                        <Label x:Name="RecordsInfoLabel"
                               FontSize="14"
                               TextColor="#7F8C8D"
                               VerticalOptions="Center" />
                    </VerticalStackLayout>
                </Grid>

                <!-- –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø -->
                <Border Stroke="LightGray"
                        StrokeThickness="0"
                        BackgroundColor="White"
                        Padding="20,15,20,15">

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <!-- –õ–ï–í–ê–Ø –ß–ê–°–¢–¨: –§–∏–ª—å—Ç—Ä—ã –∏ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                        <HorizontalStackLayout Grid.Column="0" 
                                               Spacing="15"
                                               VerticalOptions="Center">

                            <Label Text="–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å"
                                   FontSize="14"
                                   FontAttributes="Bold"
                                   TextColor="#2C3E50"
                                   VerticalOptions="Center" />

                            <Picker x:Name="PageSizePicker"
                                    WidthRequest="80"
                                    HeightRequest="35"
                                    SelectedIndexChanged="OnPageSizeChanged">
                                <Picker.ItemsSource>
                                    <x:Array Type="{x:Type x:Int32}">
                                        <x:Int32>10</x:Int32>
                                        <x:Int32>25</x:Int32>
                                        <x:Int32>50</x:Int32>
                                        <x:Int32>100</x:Int32>
                                    </x:Array>
                                </Picker.ItemsSource>
                            </Picker>

                            <Label Text="–∑–∞–ø–∏—Å–µ–π"
                                   FontSize="14"
                                   TextColor="#7F8C8D"
                                   VerticalOptions="Center" />

                            <Entry x:Name="FilterEntry"
                                   Placeholder="–§–∏–ª—å—Ç—Ä –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..."
                                   WidthRequest="250"
                                   HeightRequest="35"
                                   TextChanged="OnFilterTextChanged" />

                        </HorizontalStackLayout>

                        <!-- –ü–†–ê–í–ê–Ø –ß–ê–°–¢–¨: –ö–Ω–æ–ø–∫–∏ -->
                        <HorizontalStackLayout Grid.Column="1"
                                               Spacing="10"
                                               VerticalOptions="Center"
                                               HorizontalOptions="End">

                            <Button CornerRadius="5"
                                    BackgroundColor="Transparent"
                                    BorderWidth="1"
                                    BorderColor="Black"
                                    TextColor="Black"
                                    HeightRequest="35"
                                    Clicked="OnAddButtonClicked">

                                <Button.ImageSource>
                                    <FontImageSource FontFamily="FASolid" 
                                                     Glyph="{x:Static fa:Solid.Plus}" 
                                                     Color="Black" 
                                                     Size="14" />
                                </Button.ImageSource>
                                <Button.Text>–î–æ–±–∞–≤–∏—Ç—å</Button.Text>
                            </Button>

                            <Button CornerRadius="5"
                                    BackgroundColor="Transparent"
                                    BorderWidth="1"
                                    BorderColor="Black"
                                    TextColor="Black"
                                    HeightRequest="35"
                                    Clicked="OnExportButtonClicked">

                                <Button.ImageSource>
                                    <FontImageSource FontFamily="FASolid" 
                                                     Glyph="{x:Static fa:Solid.Share}" 
                                                     Color="Black" 
                                                     Size="14" />
                                </Button.ImageSource>
                                <Button.Text>–≠–∫—Å–ø–æ—Ä—Ç</Button.Text>
                            </Button>

                        </HorizontalStackLayout>
                    </Grid>
                </Border>

                <!-- –ö–û–ù–¢–ï–ô–ù–ï–† –î–õ–Ø –¢–ê–ë–õ–ò–¶–´ (–¥–æ–±–∞–≤–ª—è–µ–º Margin —Å–Ω–∏–∑—É –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏) -->
                <Border Stroke="LightGray"
                        StrokeThickness="1"
                        Margin="20,10,20,10"
                        Padding="0"
                        VerticalOptions="FillAndExpand">

                    <!-- DATA GRID -->
                    <material:DataGrid x:Name="VendingsGrid"
                                       ItemsSource="{Binding Vendings}"
                                       VerticalOptions="FillAndExpand"
                                       HorizontalOptions="FillAndExpand"
                                       BackgroundColor="White">
                        <ActivityIndicator IsRunning="{Binding IsBusy}" Margin="40" />

                        <!-- –ö–û–õ–û–ù–ö–ò -->
                        <material:DataGrid.Columns>
                            <material:DataGridColumn Title="ID" 
                                                     ValueBinding="{Binding Id}"
                                                     Width="*"/>

                            <material:DataGridColumn Title="–ù–∞–∑–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∞" Width="*">
                                <material:DataGridColumn.CellItemTemplate>
                                    <DataTemplate>
                                        <Label Text="{Binding Name}"
                                               TextColor="#0087CC"
                                               VerticalOptions="Center"
                                               HorizontalOptions="Center" />
                                    </DataTemplate>
                                </material:DataGridColumn.CellItemTemplate>
                            </material:DataGridColumn>

                            <material:DataGridColumn Title="–ú–æ–¥–µ–ª—å" 
                                                     ValueBinding="{Binding Model}"
                                                     Width="*" />

                            <material:DataGridColumn Title="–ö–æ–º–ø–∞–Ω–∏—è" 
                                                     Width="*">
                                <material:DataGridColumn.CellItemTemplate>
                                    <DataTemplate>
                                        <Label Text="{Binding Company}"
                                               TextColor="#0087CC"
                                               VerticalOptions="Center"
                                               HorizontalOptions="Center" />
                                    </DataTemplate>
                                </material:DataGridColumn.CellItemTemplate>
                            </material:DataGridColumn>

                            <material:DataGridColumn Title="–ú–æ–¥–µ–º" 
                                                     ValueBinding="{Binding Modem}"
                                                     Width="*" />

                            <material:DataGridColumn Title="–ê–¥—Ä–µ—Å / –ú–µ—Å—Ç–æ" 
                                                     ValueBinding="{Binding Address}"
                                                     Width="*" />

                            <material:DataGridColumn Title="–í —Ä–∞–±–æ—Ç–µ —Å" 
                                                     Width="*"
                                                     ValueBinding="{Binding InServiceSinceFormat}" />

                            <material:DataGridColumn Title="–î–µ–π—Å—Ç–≤–∏—è" 
                                                     Width="*">
                                <material:DataGridColumn.CellItemTemplate>
                                    <DataTemplate>
                                        <HorizontalStackLayout Spacing="8"
                                                               VerticalOptions="Center"
                                                               HorizontalOptions="Center">
                                            <Button StyleClass="TextButton"
                                                    Text="‚úèÔ∏è"
                                                    FontSize="16"
                                                    Padding="0"
                                                    WidthRequest="30"
                                                    HeightRequest="30"
                                                    Clicked="OnEditClicked"
                                                    CommandParameter="{Binding .}" />

                                            <Button StyleClass="TextButton"
                                                    Text="üóëÔ∏è"
                                                    FontSize="16"
                                                    Padding="0"
                                                    WidthRequest="30"
                                                    HeightRequest="30"
                                                    Clicked="OnDeleteClicked"
                                                    CommandParameter="{Binding .}" />
                                        </HorizontalStackLayout>
                                    </DataTemplate>
                                </material:DataGridColumn.CellItemTemplate>
                            </material:DataGridColumn>
                        </material:DataGrid.Columns>
                    </material:DataGrid>
                </Border>

                <!-- –ü–†–û–°–¢–†–ê–ù–°–¢–í–û –î–õ–Ø –ü–ê–ì–ò–ù–ê–¶–ò–ò (—á—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ —Å–∫—Ä—ã–≤–∞–ª—Å—è –ø–æ–¥ –Ω–µ–π) -->
                <BoxView HeightRequest="70" Color="Transparent" />

            </VerticalStackLayout>
        </ScrollView>

        <!-- –ü–ê–ì–ò–ù–ê–¶–ò–Ø (–ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ, –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞) -->
        <Border Stroke="LightGray"
                StrokeThickness="1"
                BackgroundColor="White"
                Padding="20,10,20,10"
                HeightRequest="70"
                VerticalOptions="End"
                HorizontalOptions="FillAndExpand">

            <Grid ColumnDefinitions="Auto,*,Auto" 
                  VerticalOptions="Center">

                <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                <Label x:Name="PaginationInfoLabel"
                       Grid.Column="0"
                       FontSize="14"
                       TextColor="#7F8C8D"
                       VerticalOptions="Center"
                       HorizontalOptions="Start"/>

                <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å: –ö–Ω–æ–ø–∫–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ -->
                <HorizontalStackLayout Grid.Column="2"
                                       Spacing="0"
                                       HorizontalOptions="Center"
                                       VerticalOptions="Center">

                    <Button x:Name="PreviousButton"
                            Clicked="OnPreviousPageClicked"
                            CornerRadius="2"
                            BackgroundColor="White"
                            BorderWidth="1"
                            BorderColor="LightGray"
                            WidthRequest="40"
                            HeightRequest="35"
                            VerticalOptions="Center">
                        <Button.ImageSource>
                            <FontImageSource FontFamily="FASolid" 
                                             Glyph="{x:Static fa:Solid.LessThan}" 
                                             Color="Black" 
                                             Size="14" />
                        </Button.ImageSource>
                    </Button>

                    <Button x:Name="CurrentPageNumberButton" 
                            Text="1"
                            BackgroundColor="#0087CC"
                            TextColor="White"
                            FontSize="14"
                            BorderWidth="1"
                            BorderColor="LightGray"
                            WidthRequest="40"
                            HeightRequest="35"
                            CornerRadius="0"
                            VerticalOptions="Center"/>

                    <Button x:Name="NextButton"
                            Clicked="OnNextPageClicked"
                            CornerRadius="2"
                            BackgroundColor="White"
                            BorderWidth="1"
                            BorderColor="LightGray"
                            WidthRequest="40"
                            HeightRequest="35"
                            VerticalOptions="Center">
                        <Button.ImageSource>
                            <FontImageSource FontFamily="FASolid" 
                                             Glyph="{x:Static fa:Solid.GreaterThan}" 
                                             Color="Black" 
                                             Size="14" />
                        </Button.ImageSource>
                    </Button>
                </HorizontalStackLayout>

            </Grid>
        </Border>

    </Grid>

</ContentView>